(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-taskInfo-taskInfo"],{"31e1":function(t,e,a){"use strict";a.r(e);var i=a("778b"),s=a("d6cc");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("cbde");var o=a("2877"),c=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"1f1a251c",null);e["default"]=c.exports},"778b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"content"},slot:"content"},[t._v("任务详情")])],2),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom "},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"text-black text-bold text-lg"},[t._v(t._s(t.taskInfo.title))])],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-warn text-xs"},[t._v("举报")])],1)],1),a("v-uni-view",{staticClass:"cu-list menu-avatar"},[a("v-uni-view",{staticClass:"cu-item user-box"},[a("v-uni-view",{staticClass:"cu-avatar radius lg",staticStyle:{"background-image":"url(https://ossweb-img.qq.com/images/lol/img/champion/Taric.png)"},style:"background-image:url("+t.taskInfo.face+");"},[a("v-uni-view",{staticClass:"cu-tag badge"},[t._v("v1")])],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-grey"},[a("v-uni-view",{staticClass:"cu-tag cu-cate bg-orange"},[t._v(t._s(t.taskInfo.cate_name))])],1),a("v-uni-view",{staticClass:"text-gray text-sm flex"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(t.taskInfo.use_number)+" 人 已赚，剩余 "+t._s(t.taskInfo.number-t.taskInfo.use_number)+" 个")])],1),a("v-uni-view",{staticClass:"flex text-gray"},[a("v-uni-view",{staticClass:"cu-progress round"},[a("v-uni-view",{staticClass:"bg-green",style:"width:"+t.fun.getPercent(t.taskInfo.use_number,t.taskInfo.number)})],1),a("v-uni-text",{staticClass:"margin-left"},[t._v(t._s(t.fun.getPercent(t.taskInfo.use_number,t.taskInfo.number)))])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-grey text-sm"},[t._v(t._s(t.taskInfo.create_date))]),a("v-uni-view",{staticClass:"text-red text-bold text-lg"},[t._v(t._s(t.taskInfo.price)+"￥")])],1)],1)],1),a("v-uni-view",{staticClass:"bg-white padding-xs solid-bottom"},[a("v-uni-view",{staticClass:"grid margin-bottom text-center col-4"},[a("v-uni-view",{staticClass:"text-center solid-left padding-tb-sm"},[a("v-uni-text",{staticClass:"text-bold text-lg"},[t._v(t._s(t.taskInfo.use_number)+"人")]),a("v-uni-text",{staticClass:"block text-grey text-xs margin-top-xs"},[t._v("已完成")])],1),a("v-uni-view",{staticClass:"text-center solid-left padding-tb-sm"},[a("v-uni-text",{staticClass:"text-bold text-lg"},[t._v("1小时")]),a("v-uni-text",{staticClass:"block text-grey text-xs margin-top-xs"},[t._v("完成时间")])],1),a("v-uni-view",{staticClass:"text-center solid-left padding-tb-sm"},[a("v-uni-text",{staticClass:"text-bold text-lg"},[t._v("1天")]),a("v-uni-text",{staticClass:"block text-grey text-xs margin-top-xs"},[t._v("审核周期")])],1),a("v-uni-view",{staticClass:"text-center solid-left padding-tb-sm"},[a("v-uni-text",{staticClass:"text-bold text-lg"},[t._v("￥"+t._s(t.taskInfo.price*t.taskInfo.number))]),a("v-uni-text",{staticClass:"block text-grey text-xs margin-top-xs"},[t._v("托管金额")])],1)],1)],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top-sm"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-title text-blue"}),a("v-uni-text",{staticClass:"text-black text-bold "},[t._v("操作设备")])],1)],1),a("v-uni-view",{staticClass:"bg-white padding-xs platform-cut"},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:"android"==t.taskInfo.device||""==t.taskInfo.device,expression:"taskInfo.device=='android' || taskInfo.device=='' ? true : false "}],staticClass:"cu-platform round sm",attrs:{src:"../../static/platform/android.png",mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:"iphone"==t.taskInfo.device||""==t.taskInfo.device,expression:"taskInfo.device=='iphone' || taskInfo.device=='' ? true : false "}],staticClass:"cu-platform round sm",attrs:{src:"../../static/platform/iphone.png",mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:"h5"==t.taskInfo.device||""==t.taskInfo.device,expression:"taskInfo.device=='h5' || taskInfo.device=='' ? true : false "}],staticClass:"cu-platform round sm",attrs:{src:"../../static/platform/h5.png",mode:""}})],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top-sm"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-title text-blue"}),a("v-uni-text",{staticClass:"text-black text-bold "},[t._v("任务说明")])],1)],1),a("v-uni-view",{staticClass:"bg-white padding-lg padding-tb-sm "},[a("v-uni-text",[t._v(t._s(t.taskInfo.explain))])],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top-sm"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-title text-blue"}),a("v-uni-text",{staticClass:"text-black text-bold "},[t._v("任务步骤")])],1)],1),a("v-uni-view",{staticClass:"bg-white padding-lg padding-tb-sm "},t._l(t.taskInfo.step,function(e,i){return a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"cu-tag round bg-blue margin-right-xs"},[t._v(t._s(i+1))]),a("v-uni-text",[t._v(t._s(e.remark))]),a("v-uni-view",{staticClass:"grid margin-bottom margin-top-xs text-center col-2 padding-xs"},[a("v-uni-view",{staticClass:"text-center solid"},[a("v-uni-image",{attrs:{src:e.imgList[0],mode:"widthFix"}}),a("v-uni-view",{staticClass:"cu-tag badge bg-orange",staticStyle:{padding:"10px"}},[t._v("示例图")])],1)],1)],1)}),1),a("v-uni-view",{staticClass:"margin-top-footer"}),t.taskInfo.uid!=t.user_id?a("v-uni-view",{staticClass:"cu-bar bg-white tabbar border shop fixed-footer solid-top"},[a("v-uni-button",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fun.navTo("../chat/chat?from_id="+t.taskInfo.uid)}}},[a("v-uni-view",{staticClass:"cuIcon-service text-green"},[a("v-uni-view",{staticClass:"cu-tag badge"})],1),t._v("客服")],1),t.taskInfo.favor?t._e():a("v-uni-view",{staticClass:"action text-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.favor_add.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-favor"}),t._v("收藏")],1),t.taskInfo.favor?a("v-uni-view",{staticClass:"action text-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.favor_del.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-favorfill"}),t._v("已收藏")],1):t._e(),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-center text-bold margin-bottom-xs text-lg"},[t._v(t._s(t.taskInfo.number-t.taskInfo.use_number))]),t._v("剩余名额")],1),a("v-uni-view",{staticClass:"bg-blue submit"},[t._v("立即报名")])],1):t._e(),t.taskInfo.uid==t.user_id?a("v-uni-view",{staticClass:"cu-bar bg-white tabbar border shop fixed-footer solid-top"},[t.taskInfo.favor?t._e():a("v-uni-view",{staticClass:"action text-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.favor_add.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-favor"}),t._v("收藏")],1),t.taskInfo.favor?a("v-uni-view",{staticClass:"action text-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.favor_del.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-favorfill"}),t._v("已收藏")],1):t._e(),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-center text-bold margin-bottom-xs text-lg"},[t._v(t._s(t.taskInfo.number-t.taskInfo.use_number))]),t._v("剩余名额")],1),a("v-uni-view",{staticClass:"bg-grey submit"},[t._v("无权操作")])],1):t._e()],1)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"8c02":function(t,e,a){var i=a("a81f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("e87af754",i,!0,{sourceMap:!1,shadowMode:!1})},a81f:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".user-box[data-v-1f1a251c]{min-height:%?180?%}.cu-platform[data-v-1f1a251c]{width:%?50?%;height:%?50?%;margin-left:%?18?%}.fixed-footer[data-v-1f1a251c]{width:100vw;bottom:0;left:0;position:fixed}.margin-top-footer[data-v-1f1a251c]{height:%?120?%}",""])},cbde:function(t,e,a){"use strict";var i=a("8c02"),s=a.n(i);s.a},d17e:function(t,e,a){"use strict";function i(t,e,a){var i=plus.screen.resolutionWidth,s=25,n=25,o=55,c=55,r=10,l=12,u=Math.floor(i/(o+n)),v=(i-(o+n)*u-n)/(u+1),d=n+v,f=o+d,g=c+r+l+s,h=c+r,b=new plus.nativeObj.View("alphaBg",{top:"0px",left:"0px",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0.5)"});b.addEventListener("click",function(){b.hide(),m.hide()});var m=new plus.nativeObj.View("shareMenu",{bottom:"0px",left:"0px",height:Math.ceil(e.length/u)*g+s+44+1+"px",width:"100%",backgroundColor:"rgb(255,255,255)"});return m.draw([{tag:"rect",color:"#e7e7e7",position:{top:"0px",height:"1px"}},{tag:"font",id:"sharecancel",text:"取消分享",textStyles:{size:"14px"},position:{bottom:"0px",height:"44px"}},{tag:"rect",color:"#e7e7e7",position:{bottom:"45px",height:"1px"}}]),e.map(function(t,e){var a=(new Date).getTime(),i=Math.floor(e/u),n=e%u,c=[{src:t.icon,id:1e3*Math.random()+a,tag:"img",position:{top:i*g+s,left:n*f+d,width:o,height:o}},{text:t.text,id:1e3*Math.random()+a,tag:"font",textStyles:{size:l},position:{top:i*g+h,left:n*f+d,width:o,height:o}}];m.draw(c)}),m.addEventListener("click",function(t){if(t.screenY>plus.screen.resolutionHeight-44)b.hide(),m.hide();else if(t.clientX<5||t.clientX>i-5||t.clientY<5);else{var e=t.clientX,s=t.clientY,n=Math.floor(e/f),o=Math.floor(s/g),c=n+o*u;a&&a(c)}}),{alphaBg:b,shareMenu:m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i;e.default=s},d6cc:function(t,e,a){"use strict";a.r(e);var i=a("f5bd"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},f5bd:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("f499")),n=i(a("d17e")),o={data:function(){return{numList:[{name:"报名"},{name:"操作"},{name:"上传验证"},{name:"等审核"},{name:"完成"}],tid:0,taskInfo:{},user_id:0}},onLoad:function(t){console.log(t),this.tid=t.tid,this.getTaskInfo()},mounted:function(){},onBackPress:function(){if(this.shareObj.shareMenu.isVisible())return this.shareObj.shareMenu.hide(),this.shareObj.alphaBg.hide(),!0},methods:{getTaskInfo:function(){var t=this.fun.getUser();this.user_id=t[0],uni.request({url:this.api.task_read,data:{tid:this.tid},header:{token:t[2]},success:this.callback,fail:this.fun.fail})},callback:function(t){var e=t.data;t.data.error<0?uni.showToast({title:t.data.msg}):(this.taskInfo=e.data,this.taskInfo.step=JSON.parse(this.taskInfo.step),"[]"==this.taskInfo.step&&(this.taskInfo.step=[]),console.log(this.taskInfo))},BackPage:function(){uni.navigateBack({delta:1})},shareInfo:function(){var t=this,e={href:"https://uniapp.dcloud.io",title:"分享测试",desc:"分享测试",imgUrl:"/static/logo.png"},a=[{icon:"/static/sharemenu/wx.png",text:"微信好友"},{icon:"/static/sharemenu/pyq.png",text:"朋友圈"},{icon:"/static/sharemenu/weibo.png",text:"微博"},{icon:"/static/sharemenu/qq.png",text:"QQ"},{icon:"/static/sharemenu/copy.png",text:"复制"},{icon:"/static/sharemenu/more.png",text:"更多"}];this.shareObj=(0,n.default)(e,a,function(t){console.log("点击按钮的序号: "+t);var a={href:e.href||"",title:e.title||"",summary:e.desc||"",success:function(t){console.log("success:"+(0,s.default)(t))},fail:function(t){console.log("fail:"+(0,s.default)(t))}};switch(t){case 0:a.provider="weixin",a.scene="WXSceneSession",a.type=0,a.imageUrl=e.imgUrl||"",uni.share(a);break;case 1:a.provider="weixin",a.scene="WXSenceTimeline",a.type=0,a.imageUrl=e.imgUrl||"",uni.share(a);break;case 2:a.provider="sinaweibo",a.type=0,a.imageUrl=e.imgUrl||"",uni.share(a);break;case 3:a.provider="qq",a.type=1,a.imageUrl=e.imgUrl||"",uni.share(a);break;case 4:uni.setClipboardData({data:e.href,complete:function(){uni.showToast({title:"已复制到剪贴板"})}});break;case 5:plus.share.sendWithSystem({type:"web",title:e.title||"",thumbs:[e.imgUrl||""],href:e.href||"",content:e.desc||""});break}}),this.$nextTick(function(){t.shareObj.alphaBg.show(),t.shareObj.shareMenu.show()})},favor:function(){this.taskInfo.favor?this.favor_del():this.favor_add()},favor_add:function(){var t=this.fun.getUser();uni.request({url:this.api.favor_add,header:{token:t[2]},method:"POST",data:{tid:this.taskInfo.tid},success:this.callbackFavorAdd,fail:this.fun.fail})},callbackFavorAdd:function(t){var e=t.data;t.data.error<0?uni.showToast({title:t.data.msg,icon:"none"}):(this.taskInfo.favor=!0,console.log(e.data))},favor_del:function(){var t=this.fun.getUser();uni.request({url:this.api.favor_del,header:{token:t[2]},method:"POST",data:{tid:this.taskInfo.tid},success:this.callbackFavorDel,fail:this.fun.fail})},callbackFavorDel:function(t){var e=t.data;t.data.error<0?uni.showToast({title:t.data.msg,icon:"none"}):(this.taskInfo.favor=!1,console.log(e.data))}}};e.default=o}}]);